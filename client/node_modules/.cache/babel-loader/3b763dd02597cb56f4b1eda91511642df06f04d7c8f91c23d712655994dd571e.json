{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\MyPC\\\\Desktop\\\\online-store\\\\client\\\\src\\\\pages\\\\Shop.js\",\n  _s = $RefreshSig$();\nimport React, { useContext, useEffect } from 'react';\nimport { Container, Row, Col } from 'react-bootstrap';\nimport TypeBar from '../components/TypeBar';\nimport BrandBar from '../components/BrandBar';\nimport DeviceList from '../components/DeviceList';\nimport Pages from '../components/Pages';\nimport { observer } from 'mobx-react-lite';\nimport { Context } from '../index';\nimport { fetchBrands, fetchDevices, fetchTypes } from '../http/deviceAPI';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Shop = _s(observer(_c = _s(() => {\n  _s();\n  const {\n    device\n  } = useContext(Context);\n  useEffect(() => {\n    fetchTypes().then(data => device.setTypes(data));\n    fetchBrands().then(data => device.setBrands(data));\n    fetchDevices(null, null, device.page, 2).then(data => {\n      device.setDevices(data.rows);\n      device.setTotalCount(data.count);\n    });\n  }, [device.page]);\n  useEffect(() => {\n    var _device$selectedType, _device$selectedBrand;\n    fetchDevices((_device$selectedType = device.selectedType) === null || _device$selectedType === void 0 ? void 0 : _device$selectedType.id, (_device$selectedBrand = device.selectedBrand) === null || _device$selectedBrand === void 0 ? void 0 : _device$selectedBrand.id, device.page, 2).then(data => {\n      device.setDevices(data.rows);\n      device.setTotalCount(data.count);\n    });\n  }, [device.page, device.selectedType, device.selectedBrand]);\n  const handlePageChange = pageNumber => {\n    device.setPage(pageNumber);\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: /*#__PURE__*/_jsxDEV(Row, {\n      className: \"mt-2\",\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        md: 3,\n        children: /*#__PURE__*/_jsxDEV(TypeBar, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        md: 3,\n        children: /*#__PURE__*/_jsxDEV(BrandBar, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        md: 6,\n        children: [/*#__PURE__*/_jsxDEV(DeviceList, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Pages, {\n          onPageChange: handlePageChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 9\n  }, this);\n}, \"XoxCgmGZ2XSGSx3NcNAuULEKBWg=\")), \"XoxCgmGZ2XSGSx3NcNAuULEKBWg=\");\n_c2 = Shop;\nexport default Shop;\nvar _c, _c2;\n$RefreshReg$(_c, \"Shop$observer\");\n$RefreshReg$(_c2, \"Shop\");","map":{"version":3,"names":["React","useContext","useEffect","Container","Row","Col","TypeBar","BrandBar","DeviceList","Pages","observer","Context","fetchBrands","fetchDevices","fetchTypes","jsxDEV","_jsxDEV","Shop","_s","_c","device","then","data","setTypes","setBrands","page","setDevices","rows","setTotalCount","count","_device$selectedType","_device$selectedBrand","selectedType","id","selectedBrand","handlePageChange","pageNumber","setPage","children","className","md","fileName","_jsxFileName","lineNumber","columnNumber","onPageChange","_c2","$RefreshReg$"],"sources":["C:/Users/MyPC/Desktop/online-store/client/src/pages/Shop.js"],"sourcesContent":["import React, { useContext, useEffect } from 'react';\r\nimport { Container, Row, Col } from 'react-bootstrap';\r\nimport TypeBar from '../components/TypeBar';\r\nimport BrandBar from '../components/BrandBar';\r\nimport DeviceList from '../components/DeviceList';\r\nimport Pages from '../components/Pages';\r\nimport { observer } from 'mobx-react-lite';\r\nimport { Context } from '../index';\r\nimport { fetchBrands, fetchDevices, fetchTypes } from '../http/deviceAPI';\r\n\r\nconst Shop = observer(() => {\r\n    const { device } = useContext(Context);\r\n\r\n    useEffect(() => {\r\n        fetchTypes().then((data) => device.setTypes(data));\r\n        fetchBrands().then((data) => device.setBrands(data));\r\n        fetchDevices(null, null, device.page, 2).then((data) => {\r\n            device.setDevices(data.rows);\r\n            device.setTotalCount(data.count);\r\n        });\r\n    }, [device.page]);\r\n\r\n    useEffect(() => {\r\n        fetchDevices(device.selectedType?.id, device.selectedBrand?.id, device.page, 2).then((data) => {\r\n            device.setDevices(data.rows);\r\n            device.setTotalCount(data.count);\r\n        });\r\n    }, [device.page, device.selectedType, device.selectedBrand]);\r\n\r\n    const handlePageChange = (pageNumber) => {\r\n        device.setPage(pageNumber);\r\n    };\r\n\r\n    return (\r\n        <Container>\r\n            <Row className=\"mt-2\">\r\n                <Col md={3}>\r\n                    <TypeBar />\r\n                </Col>\r\n                <Col md={3}>\r\n                    <BrandBar />\r\n                </Col>\r\n                <Col md={6}>\r\n                    <DeviceList />\r\n                    <Pages onPageChange={handlePageChange} />\r\n                </Col>\r\n            </Row>\r\n        </Container>\r\n    );\r\n});\r\n\r\nexport default Shop;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}